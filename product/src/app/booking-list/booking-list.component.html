<div class="list-container">
  <h2>All Bookings</h2>
  <p>This is the admin view of all submitted bookings.</p>

  <div *ngIf="isLoading" class="loading">
    Loading bookings...
  </div>
  
  <div *ngIf="errorMessage" class="message error">
    {{ errorMessage }}
  </div>

  <div *ngIf="!isLoading && bookings.length === 0" class="no-bookings">
    No bookings found.
  </div>

  <table *ngIf="!isLoading && bookings.length > 0">
    <thead>
      <tr>
        <th>Conf. Code</th>
        <th>Status</th>
        <th>Customer</th>
        <th>Service</th>
        <th>Date</th>
        <th>Time</th>
        <th>Actions</th> </tr>
    </thead>
    <tbody>
      <tr *ngFor="let booking of bookings">
        <td><strong>{{ booking.confirmationCode }}</strong></td>
        <td>
          <span class="status" [ngClass]="booking.bookingStatus.toLowerCase()">
            {{ booking.bookingStatus }}
          </span>
        </td>
        <td>{{ booking.customerName }}</td>
        <td>{{ booking.serviceName }}</td>
        <td>{{ booking.slotDate | date: 'mediumDate' }}</td>
        <td>{{ booking.startTime | slice:0:5 }}</td>
        
        <td>
          <ng-container *ngIf="booking.bookingStatus === 'PENDING'">
            <button (click)="onApprove(booking)" class="btn btn-approve">Approve</button>
            <button (click)="onCancel(booking)" class="btn btn-cancel">Cancel</button>
          </ng-container>
        </td>
      </tr>
    </tbody>
  </table>
</div>